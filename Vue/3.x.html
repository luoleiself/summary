<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="IE=edge" http-equiv="X-UA-Compatible" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Document</title>
  <script src="https://cdn.bootcdn.net/ajax/libs/vue/3.0.7/vue.global.js"></script>
</head>

<body>
  <div id="app">
    {{name}}
    <count-component />
  </div>
</body>
<script type="text/javascript">
  var app = null;
</script>
<script type="module">
  document.onreadystatechange = function () {
    app = Vue.createApp({
      setup(props, ctx) {
        console.log('setup...');
        const name = Vue.ref('hello world');
        return { name }
      },
      beforeCreate() {
        console.log('beforeCreate...')
      },
      created() {
        console.log('created...')
      },
      // render() {
      //   // 使用返回 null 的函数将渲染一个注释
      //   return Vue.h('div', {}, [
      //     Vue.h(null, {}, [' Annotation start ']),
      //     Vue.h('h2', {}, ['Hello World']),
      //     Vue.h('p', {}, 'This is a label p, it contain description...'),
      //     Vue.h(null, {}, [' Annotation end '])
      //   ])
      // }
      components: {
        CountComponent
      }
    });
    app.config.isCustomElement = tag => {
      return tag.startsWith('count')
    }
    // 定义组件
    var CountComponent = app.defineComponent({
      setup() {
        const count = Vue.ref(0)
        return {
          ...Vue.toRefs(count)
        }
      },
      render() {
        return Vue.h('h1', {
          onClick() {

          }
        }, `HELLO WORLD ${count}`)
      }
    })



    app.mount('#app');
  }
</script>

</html>