# Vue 3.x

## 应用配置

```javascript
// 每个 Vue 应用会暴露一个 config 对象, 在挂载应用之前, 可修改其属性
const app = Vue.createApp({});
console.log(app.config);
```

- errorHandler 处理组件渲染过程中抛出的未捕获错误

  - 类型: Function
  - 默认: undefined

  ```javascript
  app.config.errorHandler = (err, vm, info) => {
    // 处理错误
  };
  ```

- warnHandler 处理 Vue 运行中的警告, 开发环境下有效

  - 类型: Function
  - 默认: undefined

  ```javascript
  app.config.warnHandler = (msg, vm, trace) => {
    // 处理警告
  };
  ```

- globalProperties 添加应用程序内任何组件实例都可访问的全局 property, 属性名冲突时,组件内 property 优先

  - 类型: [key: string]: any
  - 默认: undefined

  ```javascript
  // Vue 2.x
  Vue.prototype.$xhr = () => {};
  // Vue 3.x
  app.config.globalProperties.$xhr = () => {};
  ```

- isCustomElement 指定一个方法, 用来识别在 Vue 之外定义的自定义元素, 如果组件符合此条件, 则不需要本地或全局注册

  > 注意, 所有原生 HTML 和 SVG 标记不需要在此函数中匹配——Vue 解析器自动执行此检查

  - 类型: (tag: string) => boolean
  - 默认: undefined

  ```javascript
  app.config.isCustomElement = (tag) => tag.startsWith('icon-');
  ```

- optionMergeStrategies 合并策略选项分别接收在父实例和子实例上定义的该选项的值作为第一个和第二个参数, 引用上下文实例被作为第三个参数传入

  - 类型: { [key: string]: Function }
  - 默认: {}

  ```javascript
  const app = Vue.createApp({
    mounted() {
      console.log(this.$options.hello);
    },
  });
  app.config.optionMergeStrategies.hello = (parent, child, vm) => {
    return `Hello, ${child}`;
  };
  app.mixin({
    hello: 'Vue',
  });
  // 'Hello, Vue'
  ```

- performance 启用对组件初始化、编译、渲染和更新的性能追踪

  - 类型: boolean
  - 默认: false

  ```javascript
  app.config.performance = true;
  ```
